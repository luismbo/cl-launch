cl-launch (2.25-1) unstable; urgency=low

  * Improve command line argument support for allegro and clisp.

  * the source code repository now includes a Makefile for end-users and
    a INTERNALS documentation file for hackers.

 -- Francois-Rene Rideau <fare@tunes.org>  Fri, 11 Sep 2009 18:47:12 -0400

cl-launch (2.24-1) unstable; urgency=low

  * Do not load cl-launch eagerly anymore in the cl-launch.asd.
    Most users of ASDF do not want cl-launch's FASL redirection in their build.
    Those who do want it can enable it explicitly. The only person I know who
    did want it am now using XCVB for large systems.

  * Allow users to have the *lisp-fasl-cache* persistently :disabled.
    Document it.

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 09 Sep 2009 10:51:02 -0400

cl-launch (2.23-1) unstable; urgency=low

  * Update Debian package to latest standards + change in sponsor.

  * Fix bug whereby in include mode compute-arguments was called from the wrong
    package, cl-user:: instead of cl-launch:: the second time over.

  * Fix bitrotten support for CCL command-line arguments

  * Fix ECL dumping. Avoid unsupported dumping from a dump.

  * asdf::resolve-symlinks was removed in 1.362. Resurrect it here, we use it!

  * Successfully ran:
      cl-launch -l 'sbcl clisp ccl ecl gclcvs gcl' -B tests # 1838 tests
      cl-launch -l clisp -B shell_tests

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 08 Sep 2009 15:29:50 -0400

cl-launch (2.22-1) unstable; urgency=low

  * Enhance support for Allegro 8 (thanks to John Fromlin)

 -- Francois-Rene Rideau <fare@tunes.org>  Sun, 30 Aug 2009 13:47:14 -0400

cl-launch (2.21-1) unstable; urgency=low

  * add command -B print_lisp_setup to simplify XCVB setup.

 -- Francois-Rene Rideau <fare@tunes.org>  Mon, 20 Jul 2009 08:28:56 -0400

cl-launch (2.20-1) unstable; urgency=low

  * Silence cl-launch when reloading from an image that has it:
    don't re-evaluate header forms (might cause surprises if the image had
    a previous instance of cl-launch yet you depend on newer features. GIGO)

  * ASDF seems to complain when a system's :pathname is NIL.
    Use /dev/null instead.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 14 Jul 2009 11:46:04 -0400

cl-launch (2.19-1) unstable; urgency=low

  * Fix cl-launch when used with XCVB:
    depend on ASDF, and proper EVAL-WHEN for exporting symbols.

 -- Francois-Rene Rideau <fare@tunes.org>  Thu, 09 Jul 2009 11:40:11 -0400

cl-launch (2.18-1) unstable; urgency=low

  * Rename BUILD.lisp to build.xcvb

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 08 Jul 2009 13:04:40 -0400

cl-launch (2.17-1) unstable; urgency=low

  * Add functions -B print_lisp_implementation and -B print_lisp_binary_path
    for the sake of the XCVB Makefile.
  * tweak comments wrt CLISP version needed for standalone executables (2.48)

 -- Francois-Rene Rideau <fare@tunes.org>  Thu, 25 Jun 2009 10:18:01 -0400

cl-launch (2.16-1) unstable; urgency=low

  * enable standalone executables for clisp.
  * small documentation updates.

 -- Francois-Rene Rideau <fare@tunes.org>  Sat, 13 Jun 2009 02:46:51 -0400

cl-launch (2.15-1) unstable; urgency=low

  * Add support for option --image, including self-test.
  * Successfully ran self-test on clisp and sbcl and a variety of shells.

 -- Joyce Chen <yuhsin@alum.mit.edu>  Fri, 12 Jun 2009 16:23:27 -0400

cl-launch (2.14-1) unstable; urgency=low

  * Add preliminary XCVB support.
  * Fix bitrotten support for #!.../cl-launch -X ... --
  * DBG now goes to *trace-output* not *error-output* anymore
  * make sure --path elements appear in asdf:*central-registry*
    in their order of appearance

 -- Francois-Rene Rideau <fare@tunes.org>  Fri, 29 May 2009 01:05:19 -0400

cl-launch (2.13-1) unstable; urgency=low

  * Debug clbuild support.
  * make sbcl the default default lisp, followed by clisp.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 23 Dec 2008 16:15:19 -0500

cl-launch (2.12-1) unstable; urgency=low

  * add basic clbuild support. Not included in test suite (yet).
  * better support :package argument to dump-image.

 -- Francois-Rene Rideau <fare@tunes.org>  Mon, 22 Dec 2008 21:23:42 -0500

cl-launch (2.11-1) unstable; urgency=low

  * Added support for standalone executables on CLISP 2.48.
  * Debugged image dumping with ECL support some more.
    The second strategy (creating temporary .asd's) works better.
    However, ASDF seems confused if you don't rm -rf your object cache in
    ~/.cache/lisp-fasl/ecl*.
  * Better document the standalone executable support.

 -- Francois-Rene Rideau <fare@tunes.org>  Sun, 09 Nov 2008 23:40:36 -0500

cl-launch (2.10-1) unstable; urgency=low

  * added a new magic environment variable CL_LAUNCH_DEBUG that enables
    debugging.
  * more attempts at debugging ECL support.

 -- Francois-Rene Rideau <fare@tunes.org>  Sat, 01 Nov 2008 11:42:23 -0400

cl-launch (2.09-1) unstable; urgency=low

  * Fixes for GCL.
  * More failed attempts at getting ECL to reliably dump images.

 -- Francois-Rene Rideau <fare@tunes.org>  Thu, 30 Oct 2008 13:22:04 -0400

cl-launch (2.08-1) unstable; urgency=low

  * Support new SBCL feature (since 1.0.21.24, thanks to Xach and Nikodemus)
   whereby we can now dump standalone executables.
  * Rename DIRECT_EXECUTABLE to STANDALONE_EXECUTABLE.
  * Refactor command-line argument detection for standalone executables.
  * Actually implement support for LispWorks - for Professional edition only.
  * Fix bug reported by Koga Kazuo, whereby on Mac OS X (and presumably
   other systems), /bin/sh doesn't support option -n to echo.
   Using the POSIX-mandated printf instead (via function ECHOn).
  * Rename OpenMCL to CCL (ClozureCL), drop support for older (pre)releases.
  * Remove builder patch for ecl 0.9i

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 29 Oct 2008 09:09:04 -0400

cl-launch (2.07-1) unstable; urgency=low

  * commented out (sb-pcl::precompile-random-code-segments) in save-image
    as it may cause some systems to grind to a halt. Users can still do it
    themselves if they want it, it is purely a performance issue.

 -- Francois-Rene Rideau <fare@tunes.org>  Thu, 17 May 2007 18:22:23 -0400

cl-launch (2.06-2) unstable; urgency=low

  * Improve packaging: suggest rather than depend on c-l-c
   (for the sake of non-Debian users).
  * (non-Debian change) make an asdf-installable package for cl-launch.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 24 Apr 2007 18:54:48 -0400

cl-launch (2.06-1) unstable; urgency=low

  * extend the API function QUIT with a new optional argument
   FINISH-OUTPUT (default T). When this argument is T, QUIT will
   FINISH-OUTPUT on *STANDARD-OUTPUT* and *ERROR-OUTPUT*.
   This replaces the (removed) internal function %QUIT.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 10 Apr 2007 17:39:33 -0400

cl-launch (2.05-1) unstable; urgency=low

  * Fix GCL 2.6 and 2.7, that were broken by the fix in cl-launch 2.04:
   the former doesn't have ENSURE-DIRECTORY-EXISTS occurrences of which
   were featured out, and the latter has issues with *LOAD-PATHNAME*
   incorrectly containing type lisp when it should have no type, which
   means that :pathname had to be specified in defsystem :cl-launch least
   it fail when the file has no extension. Also that system::*tmp-dir*
   ends with a /
  * Some minor documentation updates
  * SBCL: enable tail-call optimization; precompile CLOSy things before dump.
  * made cl-launch to be fully functional if it is the first system
   dependency in your asdf:defsystem (you still need a system-provided
   asdf for this to work fully).
  * OpenMCL: better distinguish FASL versions
  * completely tested with
       gcl gclcvs sbcl cmucl clisp ecl openmcl allegro

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 20 Mar 2007 17:25:11 -0400

cl-launch (2.04-1) unstable; urgency=low

  * make cl-launch more robust wrt missing directories
   (can't truename or resolve-symlinks then)
  * mark the ecl patch as not needed for latest CVS (but still for 0.9i)
  * rename *fasl-cache* to *lisp-fasl-cache*

 -- Francois-Rene Rideau <fare@tunes.org>  Fri, 12 Jan 2007 00:25:08 -0500

cl-launch (2.03-1) unstable; urgency=low

  * fix two bugs found by mkennedy at gentoo:
   use of truename on the cache path before it may exist
   call to a deleted shell function in the help.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 21 Nov 2006 00:08:43 -0500

cl-launch (2.02-1) unstable; urgency=low

  * completely tested with
         clisp ecl gcl gclcvs sbcl cmucl openmcl allegro
   some with and some without clc
  * wholly untested lispworks support
  * clarification of the situation of clisp and sbcl wrt DIRECT_EXECUTABLE
   (i.e. not yet).
  * self-test framework: account for shell variety, better criterion for cleanup
  * fix issues wrt pathnames, in resolve-symlinks & lisp-cache env var & gcl2.6
  * superficial fixes

 -- Francois-Rene Rideau <fare@tunes.org>  Mon, 16 Oct 2006 05:54:47 -0400

cl-launch (2.0-1) unstable; urgency=low

  * This release 2.0 passes full regression tests on all of
       clisp ecl gcl gclcvs
    and should work but hasn't been extensively tested with
       sbcl cmucl openmcl allegro
  * New "direct executable" feature supported on clisp and ecl: do away with
   the intermediate of a wrapper script and directly produce an executable.
  * We now fully support ECL. Success with dumping image from a system at last!
   Moreover, we dump a standalone :program, not a :fasl anymore; plus we take
   precautions to extract correct init-function-name from a library path.
   Search cl-launch code for "ECL PATCH" for modifications to ecl 0.9i sources.
  * After testing with not just bash and zsh, but also dash and posh,
   restore compatibility with posh that doesn't know -a and -o in [ ... ]
  * update documentation wrt GCL and ECL support, side-effects, etc.

 -- Francois-Rene Rideau <fare@tunes.org>  Sat, 14 Oct 2006 13:55:42 -0400

cl-launch (1.93-1) unstable; urgency=low

  * This "full GCL support" release passes full regression tests on all of
       clisp sbcl cmucl ecl gclcvs gcl allegro openmcl
  * GCL: fix issue with compiling scripts without pathname type,
   and add support for image dump -- many thanks to Camm Maguire.
  * ECL: fix pathname type issue with build-fasl; desperate (and unsuccessful)
   attempt to modify builder so as to create a .fas from a system.
  * General issue with dumping: recompute the dynamic environment at each
   execution, not just when initially dumping. (I detected this because GCL
   had a similar bug with its *tmp-dir*, which we now work around.)
  * Disable the common-lisp-controller cache for GCL, since clc 6 is broken.
  * Fix bitrot in support for running without clc.
  * Fixed hairy bugs I could hardly fathom due to the interaction between
   the many many modes and evaluation times of cl-launch.

 -- Francois-Rene Rideau <fare@tunes.org>  Fri, 13 Oct 2006 23:24:26 -0400

cl-launch (1.92-1) unstable; urgency=low

  * This "quick fix" release passes full regression tests on all of
       clisp sbcl cmucl ecl gclcvs gcl allegro openmcl
  * brown bag error for using find-system without nil-errors, that would
   break all non-clc installed implementations that have no cl-launch system.
  * until openmcl is fixed wrt -I handling, fall back to using exec_lisp_noarg

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 11 Oct 2006 23:38:52 +0200

cl-launch (1.91-1) unstable; urgency=low

  * This "corner rounding" release passes full regression tests on all of
       clisp sbcl cmucl ecl gclcvs gcl allegro openmcl
  * make gcl load scripts it can't compile because their pathname lacks a type
  * make clisp properly compile scripts without a pathname type.
  * work around is a bug in clisp 2.40 option parsing (fixed in 2.41), by
   introducing a pseudo-filename after -- and skipping it in ext:*args*
  * use defsystem inside cl-launch, so that there will be no attempt to later
   miscompile an installed header into something empty due to #-cl-launch,
   which would confuse other software that depends on cl-launch but is being
   loaded without cl-launch (e.g. from SLIME).
  * fix --include /... for all shells by reshuffling BASIC_ENV_CODE
  * fix and/or work around some race condition in cacheing causing transient
   errors in the regression test suite, due to compilation happening within
   the same split second as automatic generation of next source code, which
   confuses clisp. I'm unable to fathom whether the race is due to a bug in
   cl-launch, clisp or the linux kernel, and so I won't blame others.
  * make sure ABORT is defined in the wrapper
  * regression test report
     on blefuscu (Pentium-M @1200MHz):
      cl-launch -l clisp -B tests 0 143     31.20s user 10.86s system 84% cpu 49.755 total
      cl-launch -l cmucl -B tests 0 143     39.76s user 15.40s system 85% cpu 1:04.81 total
      cl-launch -l sbcl -B tests 0 143      167.11s user 26.64s system 82% cpu 3:56.11 total
      cl-launch -l ecl -B tests 0 103       372.40s user 11.56s system 90% cpu 7:04.33 total
      cl-launch -l gcl -B tests 0 35        5.88s user 1.93s system 51% cpu 15.156 total
      cl-launch -l gclcvs -B tests 0 71     27.90s user 9.06s system 79% cpu 46.587 total
      cl-launch -l allegro -B tests 0 143   44.48s user 7.91s system 84% cpu 1:02.10 total
     on rastapopoulos (PPC 603ev @240MHz):
      cl-launch -l openmcl -B tests 0 143   888.90s user 234.23s system 82% cpu 22:48.42 total

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 10 Oct 2006 02:06:24 -0400

cl-launch (1.90-1) unstable; urgency=low

  * This "bit unrot" release passes the full regression test on
       clisp sbcl cmucl ecl gclcvs gcl allegro
  * Refactor the way dumping and updates interact, fix some bugs.
  * avoid #+foo #+foo bar baz idiom to make acl5 happy again.
  * Fix buglets in the self-test exclusion patterns for gcl and ecl
  * make gcl-pre2.7 happier by avoiding keyword arguments in COMPILE-FILE
  * do not default INCLUDE_PATH to IMAGE_DIR when dumping.
  * update/fix documentation wrt what implementations are supported and how.

 -- Francois-Rene Rideau <fare@tunes.org>  Sun,  8 Oct 2006 10:46:57 -0400

cl-launch (1.89-1) unstable; urgency=low

  * Enhance OpenMCL support: can now dump files and use direct command-line
   arguments.

 -- Francois-Rene Rideau <fare@tunes.org>  Fri,  6 Oct 2006 18:04:09 -0400

cl-launch (1.88-1) unstable; urgency=low

  * separate the debian thing in a .diff.gz.
  * The correct command to detect packaging bugs is
      lintian cl-launch_*.dsc

 -- Francois-Rene Rideau <fare@tunes.org>  Thu,  7 Sep 2006 20:00:34 +0200

cl-launch (1.87-1) unstable; urgency=low

  * due to popular request, add a resource file feature, a --rc/--no-rc
   option pair to enable/disable this feature, and the ability to configure
   cl-launch into having it enabled or disabled by default. Closes: #384697.

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 30 Aug 2006 02:51:16 +0200

cl-launch (1.86-1) unstable; urgency=low

  * include image dumping in automated test suite, catching several bugs.
  * fix a nasty bug stupidly introduced in 1.83 whereby command-line arguments
   were not recomputed anymore when restarting from a dumped image (doh).
  * got --dump to work well with --update
  * try to get ECL to compile systems further, but hit some c::builder issues.
    See my messages of this month (august 2006) on the ECL mailing list.
  * tried to debug support for gcl 2.6.7-17:
   got --file working again (w/o fasl cache), but --system is hopeless.
  * gclcvs 2.7.0-54 doesn't even install properly anymore; on a system where
   it is installed of old its EVAL-WHEN seems badly broken.

 -- Francois-Rene Rideau <fare@tunes.org>  Sun, 13 Aug 2006 08:28:03 -0400

cl-launch (1.85-1) unstable; urgency=low

  * unbreak some recent simplifications that don't work in all failure cases
  * consequently restore the partial support for GCL
  * work around current brokenness of ECL in debian
  * install cl-launch in /usr/share/common-lisp/source/cl-launch
    with an asd visible by c-l-c so as to allow (require 'cl-launch).

 -- Francois-Rene Rideau <fare@tunes.org>  Thu, 10 Aug 2006 19:06:40 -0400

cl-launch (1.84-1) unstable; urgency=low

  * fix compile-file-pathname* (and thus option -f) in presence of c-l-c
  * add apply-output-pathname-translations to the API
  * refactor the image-dumping infrastructure to allow support for ECL;
    kluges to get around ECL 0.9i bug in c::builder pathname type handling.
    Many thanks to people on the ecls-list for help.
  NB: as of debian package ecl-0.9i-2, you must
        export ECL=/usr/lib/ecl/ecl-original
  for cl-launch to work with ECL, due to bug in debian packaging of ECL.

 -- Francois-Rene Rideau <fare@tunes.org>  Wed,  9 Aug 2006 21:02:42 -0400

cl-launch (1.83-1) unstable; urgency=low

  * Considering that I am not a proper Debian Developer, add my sponsor as
    Uploaders: Peter Van Eynde <pvaneynd@debian.org>, Rene van Bevern <rvb@debian.org>
    Many thanks to Luca Capello <luca@pca.it>.
  * Properly declare previous bug fixed. Closes: #379531.
  * Debian documentation tweaks.
  * ECL file-compilation support debugged by Juan Jose Garcia-Ripoll.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue,  2 Aug 2006 15:53:23 -0400

cl-launch (1.82-1) unstable; urgency=low

  * explicitly call sh ./cl-launch.sh in the build rules so as to
    (fix bug #379531 reported by Andreas Jochens (though I suspect
    he did something wrong and this "fix" wasn't needed).

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 24 Jul 2006 05:00:00 -0400

cl-launch (1.81-1) unstable; urgency=low

  * fix typo that prevented saving an override of SBCL_OPTIONS.
    Thanks to Matthew Danish <mdanish@andrew.cmu.edu> for the bug report.
  * document the fact that GCL support is currently broken.
  * preliminary support for ECL.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 20 Jul 2006 20:00:00 -0400

cl-launch (1.80-1) unstable; urgency=low

  * work on the latest openmcl, that doesn't have #+ccl anymore, and may have
    an empty :asdf package. Runtime failure trying to dump image on x86_64.
  * have *print-readably* nil makes allegro 5 happier with asdf.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 20 Jun 2006 16:46:00 -0500

cl-launch (1.79-1) unstable; urgency=low

  * work well with common-lisp-controller when compiling without asdf.

 -- Francois-Rene Rideau <fare@tunes.org>  Sat, 17 Jun 2006 22:01:00 -0400

cl-launch (1.78-1) unstable; urgency=low

  * fix allegro support

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 7 Jun 2006 20:47:00 -0400

cl-launch (1.77-2) unstable; urgency=low

  * fix some lintian warnings

 -- Francois-Rene Rideau <fare@tunes.org>  Thu, 18 May 2006 17:09:00 -0400

cl-launch (1.77-1) unstable; urgency=low

  * play well with debian and common-lisp-controller for inclusion in debian unstable
  * make lisp options more static when dumping an image.

 -- Francois-Rene Rideau <fare@tunes.org>  Wed, 17 May 2006 12:37:45 -0400

cl-launch (1.76) unstable; urgency=low

  * fix some issues with dumping, quitting, restarting
  * improve the documentation some more.

 -- Francois-Rene Rideau <fare@tunes.org>  Mon, 1 May 2006 02:23:14 -0400

cl-launch (1.75) unstable; urgency=low

  * use truename to compile and load files specified with relative path
    (this opens a can of worm of its own).
    Issue raised by Vladimir Sekissov <svg@surnet.ru>.
  * fix some more bugs in the documentation
  * some code refactoring, slight bug fixes

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 25 Apr 2006 21:15:24 -0400

cl-launch (1.74) unstable; urgency=low

  * fix some bugs in the documentation

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 25 Apr 2006 04:15:24 +0200

cl-launch (1.73) unstable; urgency=low

  * add a symlink alias 'cl' to cl-launch
  * options --print and --write to evaluate and print expression
  * default behaviour being --execute
  * implicit --print if only one argument
  * options --dump and --restart that dump lisp images for fast startup
   (more output file optimization could be done here, plus support for
   :executable t in sbcl and/or clisp; :restart not fully supported)
  * cmucl now uses the noarg invocation method for safer behaviour.
  * some slight bug fixes in code and documentation.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 25 Apr 2006 03:54:20 +0200

cl-launch (1.72) unstable; urgency=low

  * "Initial" package. Earlier packages never having been accepted by Debian,
   I didn't actually maintain a changelog about them.

 -- Francois-Rene Rideau <fare@tunes.org>  Tue, 28 Mar 2006 11:18:49 -0500

